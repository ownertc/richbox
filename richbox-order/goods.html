<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<title>餐饮点餐</title>
		<link rel="stylesheet" href="https://unpkg.com/mint-ui/lib/style.css">
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="css/rest.css">
		<link rel="stylesheet" href="css/animate.css">
		<link rel="stylesheet" href="css/goods.css">
	</head>
<style type="text/css">
</style>
<body>
<div id="app" >
<div id="wrap" :class="{maxheight:detailShow}">
<div class="header"></div>
<ul
  v-infinite-scroll="loadMore"
  infinite-scroll-disabled="loading"
  infinite-scroll-distance="100">
  <li v-for="(item,index) in list" class="item" :key="index">
	  <img v-lazy.app="item.ThumUrl" @click="getDetail(item.Id)">
	  <div class="left">
         <p class="title" v-text="item.Name"></p>
		   <div class="other">
			   <p class="price"><span>￥</span><span v-text="item.Price"></span></p>
			   <div class="cartcrtol"><i class="fa fa-minus-circle minus animated" v-show="item.num" :class="{rotateInDownRight:item.num,rotateOutUpRight:!item.num}" @click="decreas(index)"></i><span v-show="item.num" v-text="item.num"></span><i class="fa fa-plus-circle plus" @click="addCart(index)" v-if="item.IsReserve"></i><i class="fa fa-plus-circle plus disable"  v-if="!item.IsReserve"></i></div>
		   </div>
	  </div>
</li>
  <p v-if="loading" style="font-size:12px;color:#666;text-align:center">加载中....</p>
</ul>
</div>
<!-- 商品详情开始 -->
<div class="goods-detail animated"  :class="{slideInUp:detailShow,slideOutDown:!detailShow}">
	<i class="fa fa-angle-down" style="position: absolute;right:20px;top:5px;font-size: 20px;color:#666" @click="detailShow=false"></i>
	<img :src="detailInfo.ThumUrl" alt="">
	<div class="desc">
		<p class="goodsname" v-text="detailInfo.Name"></p>
		<p class="price"><span>￥</span><span v-text="detailInfo.Price"></span></p>
		<p class="title">商品描述</p>
		<p class="desc-content" v-text="detailInfo.Remarks">
		</p>
	</div>
</div>
<div class='mask' v-if="detailShow"></div>
<div class="footerBar">
	<div class="cart animated " :class="{bounceIn:bounceIn}">
		<div class="cart-wrap">
	     <mt-badge size="small" color="#d58f51" style="position: absolute;top:0;right:0;height:10px;display: inline-block;line-height: 1" v-if="totalCount" v-text="totalCount"></mt-badge>
			<i class="fa fa-shopping-cart shopp" style="color:#d58f51;font-size: 22px;background: #2b343b;padding: 10px;border-radius: 50%" :class="{disable:totalPrice<=0}"></i>
		</div>
	</div>
	<div class="total" :class="{disable:totalPrice<=0}">￥{{totalPrice}}</div>
	<div class="goOrder" :class="{disabled:totalPrice<=0}" @click="confirmOrder()">去结算</div>
</div>
<!-- 商品详情结束 -->
</div>
	</body>
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script src="https://unpkg.com/mint-ui/lib/index.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="js/api.js"></script>
	<script src="js/request.js"></script>
	<script src="js/initBrage.js?vesrsion=1.8"></script>
	<script src="js/goods.js?vesrsion=1.8"></script>
</html>
